$(document).ready(function(){function t(t){return t=t.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(t){return'<a href="'+t+'"  target="_blank">'+t+"</a>"}),t=t.replace(/\B@([_a-z0-9]+)/gi,function(t){return'<a href="http://twitter.com/'+t.substring(1)+'" style="font-weight:lighter;" target="_blank">'+t.charAt(0)+t.substring(1)+"</a>"}),t=t.replace(/\B#([_a-z0-9]+)/gi,function(t){return'<a href="https://twitter.com/search?q='+t.substring(1)+'" style="font-weight:lighter;" target="_blank">'+t.charAt(0)+t.substring(1)+"</a>"})}function e(t){var e=t.split(" ");t=e[1]+" "+e[2]+", "+e[5]+" "+e[3];var r=Date.parse(t),i=arguments.length>1?arguments[1]:new Date,a=parseInt((i.getTime()-r)/1e3),n=t.substr(4,2)+" "+t.substr(0,3);return a+=60*i.getTimezoneOffset(),60>a?"1m":120>a?"1m":3600>a?parseInt(a/60).toString()+"m":7200>a?"1h":86400>a?parseInt(a/3600).toString()+"h":172800>a?n:n}var r=10,i=!0,a=!0,n=!0,s=!0,o=!1,c="",d="";c+="",c+="",d+='<div id="loading-container"><img src="../img/ajax-loader.gif" width="32" height="32" alt="tweet loader" /></div>',$("#twitter-feed").html(c+d),$.getJSON("twitter/get-tweets1.php",function(d){for(var w="",h=1,l=0;l<d.length;l++){var p=d[l].user.name,u=d[l].user.screen_name,g=d[l].user.profile_image_url_https,f=d[l].text,m=!1,v=!1,_=d[l].id_str;"undefined"!=typeof d[l].retweeted_status&&(g=d[l].retweeted_status.user.profile_image_url_https,p=d[l].retweeted_status.user.name,u=d[l].retweeted_status.user.screen_name,_=d[l].retweeted_status.id_str,f=d[l].retweeted_status.text,m=!0),"@"==d[l].text.substr(0,1)&&(v=!0),(1==a||0==m&&0==a)&&(1==i||0==i&&0==v)&&d[l].text.length>1&&r>=h&&(1==n&&(f=t(f)),1==h&&(w+=c),w+='<div class="twitter-article" id="tw'+h+'">',w+='<div class="twitter-pic"><a href="https://twitter.com/'+u+'" target="_blank"><img src="'+g+'"images/twitter-feed-icon.png" width="42" height="42" alt="twitter icon" /></a></div>',w+='<div class="twitter-text"><p><span class="tweetprofilelink"><strong><a href="https://twitter.com/'+u+'" target="_blank">'+p+'</a></strong> <a href="https://twitter.com/'+u+'" target="_blank">@'+u+'</a></span><span class="tweet-time"><a href="https://twitter.com/'+u+"/status/"+_+'" target="_blank">'+e(d[l].created_at)+"</a></span><br/>"+f+"</p>",1==m&&1==o&&(w+='<div id="retweet-indicator"></div>'),1==s&&(w+='<div id="twitter-actions"><div class="intent" id="intent-reply"><a href="https://twitter.com/intent/tweet?in_reply_to='+_+'" title="Reply"></a></div><div class="intent" id="intent-retweet"><a href="https://twitter.com/intent/retweet?tweet_id='+_+'" title="Retweet"></a></div><div class="intent" id="intent-fave"><a href="https://twitter.com/intent/favorite?tweet_id='+_+'" title="Favourite"></a></div></div>'),w+="</div>",w+="</div>",h++)}$("#twitter-feed").html(w),0==s&&($(".twitter-article").hover(function(){$(this).find("#twitter-actions").css({display:"block",opacity:0,"margin-top":-20}),$(this).find("#twitter-actions").animate({opacity:1,"margin-top":0},200)},function(){$(this).find("#twitter-actions").animate({opacity:0,"margin-top":-20},120,function(){$(this).css("display","none")})}),$("#twitter-actions a").click(function(){var t=$(this).attr("href");return window.open(t,"tweet action window","width=580,height=500"),!1}))}).error(function(t){var e="";e=0===t.status?"Connection problem. Check file path and www vs non-www in getJSON request":404==t.status?"Requested page not found. [404]":500==t.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+t.responseText,alert("error: "+e)})});